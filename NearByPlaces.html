<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nearby Places by Type</title>
  <!-- <link rel="stylesheet" href="my_task.css"> -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOURKEY&libraries=places"></script>
  <!-- <link rel="stylesheet" href="hiiii.css"> -->
  <link rel="stylesheet" href="https://unpkg.com/phosphor-icons@1.4.2/src/css/ph.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&family=Playfair+Display:wght@700&family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons (e.g., shopping cart) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0&icon_names=shopping_cart_checkout" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=mic"/>
  <style>
    body{
    width: 100svw;
    height: 100svh;
    margin: 0px;
    padding: 0px;
    display: flex;
    flex-direction: column;
    /* justify-content: center; */
    align-items: center;
    /* background-color: #b9e5e8; */
    /* overflow: hidden; */
}
.main{
    display: flex;
    width: 100%;
    height: 85%;
    flex-wrap: wrap;
    /* gap: 40px; */
    /* justify-content: center; */
    align-items: center ;
    /* margin-top: 20px; */
    flex-direction: column;
}
.about-tourist{
    width: 90%;
    height: 85%;
}
.content{
    width: 30%;
      height: 100%;
      background-image: url('/assests/Wh.jpg');
      backdrop-filter: blur(3px);
      background-repeat: no-repeat;
      background-size: cover;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
                  0 2px 4px -1px rgba(0, 0, 0, 0.06);
      border-radius: 20px;
      margin: 5px;
}
.map-part{
    width: 65%;
    height: 80%;
    /* background-color: aqua; */
}
.map-area{
  width: 100%;
  height: 90%;
}
    .about {
      display: flex;
      align-items: center;
      flex-direction: column;
      margin-top: 20px;
      width: 100%;
      height: 100%;
      border-radius: 20px;
      /* overflow: hidden; */
    }

    .about .story,
    .about .local-food,
    .about .label,
    .about .rating {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    .about .story { height: auto; }
    .about .local-food,
    .about .label,
    .about .rating { height: auto; }
.btn {
        padding: 10px 30px;
    border-radius: 15px;
    font-weight: 600;
    display: inline-flex;
    align-items: center;
    /* gap: 100px; */
    margin-left: 3%;
    border: none;
    cursor: pointer;
    transition: background-color 0.2s, transform 0.2s;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}
.btn-primary {
    background-color: white;
    color: #4A628A;
}
.btn-primary:hover {
    background-color: #639cbb;
    transform: scale(1.05);
}
.btn-secondary {
    background-color: white;
    color: #4A628A;
}
.btn-secondary:hover {
    background-color: #7AB2D3;
    color: white;
}
.story{
    text-align: start;
    /* margin-left: 20%; */
    
}
.local-food{
    text-align: start;
    /* margin-left: 20%; */
}
.about p{
    margin-left: 30px;
    color:#4A628A;
}
.label{
    text-align: start;
    /* margin-left: 20%; */
}
.rating{
    text-align: start;
    /* margin-left: 20%; */
}
.bottom-buttons{
    float: right;
    margin: 20px;
    display: flex;
    gap: 20px;
}
#your{
    float: right;
    margin: 20px;
}
.top-bar{
    margin: 20px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}
#map{
    border-radius:20px ;
}
h1{
    color:white;
}
    #map { height: 100%; width: 100%; margin-top: 10px; }
    #controls {
      margin: 10px 0;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .planner-list {
      height: 100%;
      background-color: white;
      border-radius: 20px;
      box-shadow: 0px 0px 3px 1px ;
    }
    .logo-container-s2 {
    display: flex;
    align-items: center;
    justify-content: flex-start; /* Aligns logo icon and text to the left // Space between logo and the "About Us" heading */
    /* No need for width: 100% here directly, as parent aligns it */
    margin-left: 20px;
}
.tripnest-icon-s2 {
    height: 7.0rem;
    width: 7.0rem;
    margin-right: -1.2rem;
    object-fit: contain;
}

.tripnest-text-logo-s2 {
    height: 1.8rem;
    object-fit:contain;
    position: relative;
    top:16px;
}
nav{
    display: flex;
    height: 12%;
    /* position: sticky; */
    top: 0px;
    background-color: white;
    width: 100%;
    /* z-index: 2; */
    animation: navbar 2s ;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}
.home ,.Planner, .AboutUs ,.Signin{
    width: 90px;
    height: 35px;
    text-align: center;
    line-height: 35px;
    border-radius: 10px;
    cursor: pointer;
  
}
.Signin{
    background-color: #7AB2D3;
    margin-right: 20px;
}
.Signin:hover{
    background-color: #4A628a;
}
.sidebar{
    display: flex;
    justify-content: end;
    align-items: center;
    width: 80%;
    gap: 60px;
}
.sidebar button{
    width: 100%;
    height: 100%;
    background-color: transparent;
    border: none;
    font-size:medium;
    font-weight:bold ;

}
.Signin:hover{
    background-color: #4A628a;
    color: white;
}
.sidebar button:hover{
    color: white;
    /* background-color: transparent; */
}
.home:hover ,.Planner:hover, .AboutUs:hover{
    background-color: #7AB2D3;
    color: white;
    border-radius:15px ;
}
.three_dot{
  font-size: 2rem;
  position: absolute;
  font-weight: bold;
  right: 30px;
  top:30px;
  display: none;
}
.mobile{
  height: 100%;
  width:300px;
  background-color: #639cbb;
  z-index: 3;
  position: absolute;
  right:0px;
  visibility: hidden;
}
.mobile div{
  width:300px;
  height: 60px;
  font-size: 1.8rem;
  text-align: center;
  line-height: 60px;
}
.mobile div:hover{
  border-bottom: 2px solid rgb(0, 179, 255);
  border-radius: 10px;
  color:white;
  background-color: #7AB2D3;
}
.cross{
  font-size: 3rem;
 font-weight: bold;
 cursor: pointer; 
 position: relative;
 left: 10px;
}
@media (max-width: 426px) {
  html, body {
    width: 100vw;
    min-width: 100vw;
    max-width: 100vw;
    margin: 0;
    padding: 0;
    display: block;
    align-items: unset;
    justify-content: unset;
  }
  .main {
    width: 100vw;
    margin: 0;
    padding: 0;
  }
  nav {
    width: 100vw;
    min-width: 100vw;
    max-width: 100vw;
    left: 0;
    right: 0;
    margin: 0;
    padding: 0;
    border-radius: 0;
  }
  .sidebar {
    display: none;
  }
  .three_dot {
    display: block;
  }
}
@media (max-width:767px){
  .main{
    display: block;
  }
  .content{
    width: 95%;
  }
  .map-part{
    width: 100%;
    justify-content: center;
  }
  .map-area{
    width: 80%;
    margin: 40px;
  }
  .top-bar{
    /* flex-direction: column; */
    flex-wrap: wrap;
    justify-content: center;
  }
  .btn{
    display: flex;
    justify-content: center;
    width: 40%;
  }
}
.about .image{
  width: 70%;
  height: 20%;
  object-fit: cover;
  /* overflow: hidden; */
}
.about .image img{
  width: 100%;
  height: 100%;
  border-radius: 10px;
}
.box {
      height: 100px;
      width: 250px;
      background-color: #7AB2D3;
      position: fixed;
      right: -200px;
      display: flex;
      align-items: center;
      justify-content: start;
      padding-left: 10px;
      gap: 15px;
      border-radius: 50px 0 0 50px;
      color: white;
      font-size: 1.1rem;
      transition: right 0.5s ease, transform 0.3s ease;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      z-index:100;
    }

    .box:hover {
      right: 0px;
      transform: scale(1.02);
    }

    .one {
      top: 60svh;
    }

    .two {
      top: 40svh;
    }

    .trans, .curr {
      height: 70px;
      width: 70px;
      min-width: 70px;
      background-color: #4682A9;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.8rem;
      color: white;
      transition: background-color 0.3s ease, transform 0.3s ease;
      cursor: pointer;
      z-index: 101;
    }

    .box:hover .trans,
    .box:hover .curr {
      background-color: #35678f;
      transform: rotate(360deg);
    }
    .translator-container {
            background: #ffffff; 
            width: 95%;
            max-width: 700px;
            padding: 30px;
            border-radius: 15px; 
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
            border: 1px solid #cce7f0; 
            position: absolute;
            top: 15%;
            left: 25%;
            display: none;
        }

        .translator-container h1 {
            text-align: center;
            margin-bottom: 30px; 
            font-size: 28px; 
            color: #2c3e50; 
            font-weight: 700;
        }

        /* Dropdowns */
        .dropdowns {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            position: relative;
           
        }

        select {
            flex: 1; 
            padding: 10px 15px; 
            border-radius: 8px; 
            font-size: 16px; 
            background-color: #f8fcff; 
            appearance: none; 
            -webkit-appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-6.5%200-12.3%203.2-16.1%208.1-3.8%204.9-4.7%2011.6-2.9%2017.5l128%20168c4.1%205.4%2010.8%208.6%2018.2%208.6s14-3.2%2018.2-8.6l128-168c3.9-6%203-12.7-1-17.5z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 12px top 50%;
            background-size: 12px auto;
            cursor: pointer;
            margin: 0 10px; 
        }

        select:first-child {
            margin-left: 0;
        }

        select:last-child {
            margin-right: 0;
        }

        .swap-btn {
            background: linear-gradient(135deg, #7ab2d3 0%, #eaf4f8 100%);
            color: black;
            font-size: 20px; 
            border: none;
            border-radius: 50%;
            width: 45px; 
            height: 45px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(106, 64, 239, 0.3); /* Shadow for swap button */
            transition: transform 0.2s ease, background 0.2s ease;
            position: absolute; 
            left: 50%;
            transform: translate(-50%, 0);
            z-index: 10;
        }

        .swap-btn:hover {
            background: linear-gradient(135deg, #7ab2d3 0%, #eaf4f8 100%);
            transform: translate(-50%, 0) rotate(15deg);
        }

        /* Text Areas */
        .text-area-group {
            display: flex;
            gap: 20px; 
            margin-bottom: 25px;
        }

        .text-box {
            flex: 1; 
            display: flex;
            flex-direction: column;
            background-color: #fdfdfd; 
            border-radius: 10px;
            border: 1px solid #d0e8f2;
            overflow: hidden; 
        }

        .text-box textarea {
            width: 100%;
            height: 150px;
            padding: 15px; 
            font-size: 15px;
            border: none; 
            resize: none;
            background-color: transparent; 
            outline: none; 
            color: #333;
        }

        .text-box textarea::placeholder {
            color: #999;
        }

        .text-box-icons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 15px; 
            background-color: #edf5f8; 
            border-top: 1px solid #d0e8f2;
        }

        .icon-btn {
            background: transparent; 
            padding: 8px;
            border-radius: 50%;
            cursor: pointer;
            border: none;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s ease;
        }

        .icon-btn:hover {
            background-color: #dbeaf0; 
        }

       
        .translate-btn {
          background: linear-gradient(135deg, #7ab2d3 0%, #eaf4f8 100%);
            color: black;
            padding: 12px 30px; 
            font-size: 16px; 
            border: none;
            border-radius: 25px; 
            cursor: pointer;
            display: block;
            margin: 0 auto;
            transition: 0.3s ease;
            box-shadow: 0 6px 15px rgba(59, 130, 246, 0.3); 
            font-weight: 600;
        }

        .translate-btn:hover {
           background: linear-gradient(135deg, #7ab2d3 0%, #eaf4f8 100%);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
        }

      
        @media (max-width: 768px) {
            .translator-container {
                padding: 20px;
                border-radius: 10px;
            }

            h1 {
                font-size: 22px;
                margin-bottom: 20px;
            }

            .dropdowns {
                flex-direction: column; 
                align-items: stretch;
                margin-bottom: 20px;
            }

            select {
                width: 100%; 
                margin: 0 0 15px 0; 
                padding: 12px; 
                font-size: 15px;
            }

            select:last-child {
                margin-bottom: 0;
            }

            .swap-btn {
                position: static; 
                transform: none; 
                margin: 10px auto;
                width: 40px;
                height: 40px;
                font-size: 18px;
            }

            .text-area-group {
                flex-direction: column; 
                gap: 15px;
            }

            .text-box textarea {
                height: 120px; 
                font-size: 14px;
            }

            .icon-btn {
                font-size: 18px; 
                padding: 6px;
            }

            .translate-btn {
                padding: 10px 20px;
                font-size: 16px;
               
            }
        }

      
        @media (max-width: 400px) {
            .translator-container {
                padding: 15px;
            }

            h1 {
                font-size: 20px;
                margin-bottom: 15px;
            }

            select {
                padding: 10px;
                font-size: 14px;
            }

            .swap-btn {
                width: 36px;
                height: 36px;
                font-size: 16px;
            }

            .text-box textarea {
                height: 100px;
                padding: 10px;
                font-size: 13px;
            }

            .icon-btn {
                font-size: 16px;
                padding: 5px;
            }

            .translate-btn {
                padding: 8px 18px;
                font-size: 14px;
            }
        }
        @media (max-width:1024px){
            .translator-container{
                left: 4%;
            }
        }
        @media (max-width:768px){
            .translator-container{
                top: 20%;
                left: 1%;
            }
        }
        @media (max-width:465px){
            .translator-container{
                width: 80%;
                top: 20%;
                left: 6%;
            }
        }
        @media (max-width:465px){
            .translator-container{
                width: 80%;
                top: 20%;
                left: 6%;
            }
        }
        .container {
  background-color: #7AB2D3;
  padding: 2rem;
  border-radius: 1rem;
  min-height: 50vh;
  width: 40vh;
  position: absolute;
  top: 10%;
  left: 40%;
  display: none;

}

form {
  margin: 2rem 0 1rem 0;
}

form select,
input {
  width: 100%;
  border: none;
  outline: none;
  border-radius: 0.75rem;
}

form input {
  border: none;
  font-size: 1rem;
  background-color: #ECE7E7;
  height: 3rem;
  padding-left: 0.5rem;
}

.dropdown {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 2rem;
}

.dropdown i {
  font-size: 1.5rem;
  margin-top: 1rem;
}

.select-container img {
  max-width: 2rem;
}

.select-container {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 6rem;
  border-radius: 0.5rem;
  border: none;
}

.select-container select {
  font-size: 1rem;
  padding: 3px;
  background-color: #ECE7E7;
  width: auto;
}

.msg {
  margin: 2rem 0 2rem 0;
}

form button {
  height: 3rem;
  background-color: #4A6286;
  color: #fff;
  font-size: 1.15rem;
  cursor: pointer;
}
@media (max-width:1024px){
            .container{
                left: 25%;
            }
        }
        @media (max-width:768px){
            .container{
                /* top: 20%;     */
                left: 20%;
            }
        }
        @media (max-width:465px){
            .container{ 
                left: 5%;
            }
        }
        @media (max-width:465px){
            .translator-container{
                width: 80%;
                top: 20%;
                left: 6%;
            }
        }
        /* .image */
  </style>
</head>
<body >
  <nav>
        <div class="logo-container-s2">
            <img src="/assests/logo (2).png" alt="TripNest Icon" class="tripnest-icon-s2">
            <img src="/assests/TripNest.png" alt="TripNest Text Logo" class="tripnest-text-logo-s2">
        </div>
        <div class="sidebar">
          <div class="home">
              <button>Home</button>
          </div>
          <div class="Planner">
              <button>Planner</button>
          </div>
          <div class="AboutUs">
              <button>AboutUs</button>
          </div>
          <div class="Signin">
              <button>Sign Out</button>
          </div>
        </div>
        <div class="three_dot" onclick="funn()">&#9776;</div>
    </nav>
    <div class="mobile">
        <span class="cross" onclick="fun()">&times;</span>
        <div class="home">
            <img src="/assests/home_24dp_WHITE_FILL0_wght400_GRAD0_opsz24.png" alt="">
            Home
        </div>
        <div class="products">
            <img src="/assests/map_pin_review_24dp_WHITE_FILL0_wght400_GRAD0_opsz24.png" alt="">
            Planner
        </div>
        <div class="aboutus">
            <img src="/assests/page_footer_24dp_WHITE_FILL0_wght400_GRAD0_opsz24.png" alt="">
            AboutUs
        </div>
        <div class="services">
            <img src="/assests/login_24dp_WHITE_FILL0_wght400_GRAD0_opsz24.png" alt="">
            Sign Out
        </div>
    </div>
  <div class="main">
    <div class="box one">
    <div class="trans" onclick="pop_up()">
      <i class="fa-solid fa-language"></i>
    </div>
    <span>Language Translation</span>
  </div>

  <div class="box two">
    <div class="curr">
      <i class="fa-solid fa-dollar-sign"></i>
    </div>
    <span>Currency Converter</span>
  </div>
    <aside class="content">
      <!-- <div class="about-tourist">
        <div class="about">
          <div class="image">
            <img src="1.jpg" class="planner-item-image" alt="Golden Temple">
          </div>
          <div> 
            <h3 class="planner-item-title">Golden Temple</h3>
          </div>
          <div class="story">
            <h1>Story</h1>
            <p>Paragraphs are the building blocks of papers. Many students define paragraphs in terms of length: a paragraph is a group of at least five sentences, a paragraph is half a page long, etc. In reality, though, the unity and coherence of ideas among sentences is what constitutes a paragraph.</p>
          </div>
          <div class="local-food">
            <h1>Local Food</h1>
            <p>kikikiki</p>
          </div>
          <div class="label">
            <h1>Label</h1>
            <p>Adventures</p>
          </div>
          <div class="rating">
            <h1>Rating</h1>
          </div>
        </div>
      </div> -->
    </aside>
    <div class="map-part">
      <!-- <button class="btn btn-secondary" id="your">
        <i class="ph ph-map-pin"></i>
        <span>Share Your Location</span>
      </button> -->
      <div class="top-bar">
        <button onclick="searchNearby('restaurant')" class="btn btn-secondary filter-btn">🍴 Restaurants</button>
          <button onclick="searchNearby('lodging')" class="btn btn-secondary filter-btn">🏨 Hotels</button>
          <button onclick="searchNearby('atm')" class="btn btn-secondary filter-btn">🏧 ATMs</button>
          <button onclick="searchNearby('shopping_mall')" class="btn btn-secondary filter-btn">🛍️ Shopping Malls</button>
          <button onclick="searchNearby('transit_station')" class="btn btn-secondary filter-btn">🚌 Transport</button>
      </div>
      <div class="map-area">
        <div id="map"></div>
      </div>
    </div>
  </div>
  <div class="translator-container">
        <button id="trans" style="font-size: 50px; display: flex; justify-content: end; width: 100%; background-color: transparent; border: none;">&times;</button>
        <h1>Language Translator</h1>

        <div class="dropdowns">
            <select name="from" id="fromLang"></select>
            <button class="swap-btn" title="Swap Languages">⇄</button>
            <select name="to" id="toLang"></select>
        </div>

        <div class="text-area-group">
            <div class="text-box">
                <textarea placeholder="Enter text here..." id="input"></textarea>
                <div class="text-box-icons">
                    <button class="icon-btn" id="speakin" title="Speak Input"><span class="material-symbols-outlined">mic</span></button>
                    <button class="icon-btn" id="clear" title="Clear Text">❌</button>
                </div>
            </div>
            <div class="text-box">
                <textarea id="output" readonly></textarea>
                <div class="text-box-icons">
                    <button class="icon-btn" id="speakout" title="Speak Output">🔊</button>
                    <button class="icon-btn" id="copyOutput" title="Copy Output">📋</button>
                </div>
            </div>
        </div>

        <button class="translate-btn">Translate Text</button>
        </div>
        <div class="container">
          <button id="currClose" style="font-size: 50px; display: flex; justify-content: end; width: 100%; background-color: transparent; border: none;">&times;</button>
      <h2>Currency Converter</h2>
      <form>
        <div class="amount">
          <p>Enter Amount</p>
          <input value="1" type="text" />
        </div>
        <div class="dropdown">
          <div class="from">
            <p>From</p>
            <div class="select-container">
              <img src="https://flagsapi.com/US/flat/64.png" />
              <select name="from"></select>
            </div>
          </div>
          <i class="fa-solid fa-arrow-right-arrow-left"></i>
          <div class="to">
            <p>To</p>
            <div class="select-container">
              <img src="https://flagsapi.com/IN/flat/64.png" />
              <select name="to"></select>
            </div>
          </div>
        </div>
        <div class="msg">1USD = 80INR</div>
        <button>Get Exchange Rate</button>
      </form>
    </div>

  <script>





     const countryList = {
  AED: "AE",
  AFN: "AF",
  XCD: "AG",
  ALL: "AL",
  AMD: "AM",
  ANG: "AN",
  AOA: "AO",
  AQD: "AQ",
  ARS: "AR",
  AUD: "AU",
  AZN: "AZ",
  BAM: "BA",
  BBD: "BB",
  BDT: "BD",
  XOF: "BE",
  BGN: "BG",
  BHD: "BH",
  BIF: "BI",
  BMD: "BM",
  BND: "BN",
  BOB: "BO",
  BRL: "BR",
  BSD: "BS",
  NOK: "BV",
  BWP: "BW",
  BYR: "BY",
  BZD: "BZ",
  CAD: "CA",
  CDF: "CD",
  XAF: "CF",
  CHF: "CH",
  CLP: "CL",
  CNY: "CN",
  COP: "CO",
  CRC: "CR",
  CUP: "CU",
  CVE: "CV",
  CYP: "CY",
  CZK: "CZ",
  DJF: "DJ",
  DKK: "DK",
  DOP: "DO",
  DZD: "DZ",
  ECS: "EC",
  EEK: "EE",
  EGP: "EG",
  ETB: "ET",
  EUR: "FR",
  FJD: "FJ",
  FKP: "FK",
  GBP: "GB",
  GEL: "GE",
  GGP: "GG",
  GHS: "GH",
  GIP: "GI",
  GMD: "GM",
  GNF: "GN",
  GTQ: "GT",
  GYD: "GY",
  HKD: "HK",
  HNL: "HN",
  HRK: "HR",
  HTG: "HT",
  HUF: "HU",
  IDR: "ID",
  ILS: "IL",
  INR: "IN",
  IQD: "IQ",
  IRR: "IR",
  ISK: "IS",
  JMD: "JM",
  JOD: "JO",
  JPY: "JP",
  KES: "KE",
  KGS: "KG",
  KHR: "KH",
  KMF: "KM",
  KPW: "KP",
  KRW: "KR",
  KWD: "KW",
  KYD: "KY",
  KZT: "KZ",
  LAK: "LA",
  LBP: "LB",
  LKR: "LK",
  LRD: "LR",
  LSL: "LS",
  LTL: "LT",
  LVL: "LV",
  LYD: "LY",
  MAD: "MA",
  MDL: "MD",
  MGA: "MG",
  MKD: "MK",
  MMK: "MM",
  MNT: "MN",
  MOP: "MO",
  MRO: "MR",
  MTL: "MT",
  MUR: "MU",
  MVR: "MV",
  MWK: "MW",
  MXN: "MX",
  MYR: "MY",
  MZN: "MZ",
  NAD: "NA",
  XPF: "NC",
  NGN: "NG",
  NIO: "NI",
  NPR: "NP",
  NZD: "NZ",
  OMR: "OM",
  PAB: "PA",
  PEN: "PE",
  PGK: "PG",
  PHP: "PH",
  PKR: "PK",
  PLN: "PL",
  PYG: "PY",
  QAR: "QA",
  RON: "RO",
  RSD: "RS",
  RUB: "RU",
  RWF: "RW",
  SAR: "SA",
  SBD: "SB",
  SCR: "SC",
  SDG: "SD",
  SEK: "SE",
  SGD: "SG",
  SKK: "SK",
  SLL: "SL",
  SOS: "SO",
  SRD: "SR",
  STD: "ST",
  SVC: "SV",
  SYP: "SY",
  SZL: "SZ",
  THB: "TH",
  TJS: "TJ",
  TMT: "TM",
  TND: "TN",
  TOP: "TO",
  TRY: "TR",
  TTD: "TT",
  TWD: "TW",
  TZS: "TZ",
  UAH: "UA",
  UGX: "UG",
  USD: "US",
  UYU: "UY",
  UZS: "UZ",
  VEF: "VE",
  VND: "VN",
  VUV: "VU",
  YER: "YE",
  ZAR: "ZA",
  ZMK: "ZM",
  ZWD: "ZW",
};


const dropdowns = document.querySelectorAll(".dropdown select");
const btns = document.querySelector("form button");
const fromCurr = document.querySelector(".from select");
const toCurr = document.querySelector(".to select");
const msg = document.querySelector(".msg");

for (let select of dropdowns) {
  for (currCode in countryList) {
    let newOption = document.createElement("option");
    newOption.innerText = currCode;
    newOption.value = currCode;
    if (select.name === "from" && currCode === "USD") {
      newOption.selected = "selected";
    } else if (select.name === "to" && currCode === "INR") {
      newOption.selected = "selected";
    }
    select.append(newOption);
  }

  select.addEventListener("change", (evt) => {
    updateFlag(evt.target);
  });
}

const updateExchangeRate = async () => {
  let amount = document.querySelector(".amount input");
  let amtVal = amount.value;
  if (amtVal === "" || amtVal < 1) {
    amtVal = 1;
    amount.value = "1";
  }
  //const URL = ${BASE_URL}/${fromCurr.value.toLowerCase()}/${toCurr.value.toLowerCase()}.json;
  const url=`https://currency-conversion-and-exchange-rates.p.rapidapi.com/convert?from=${fromCurr.value.toLowerCase()}&to=${toCurr.value.toLowerCase()}&amount=${amtVal}`

   const options = {
	method: 'GET',
	headers: {
		'x-rapidapi-key': 'e3d47bc1ddmsh63e3f53ba63218ap1df25fjsncf040ccd6dd7',
		'x-rapidapi-host': 'currency-conversion-and-exchange-rates.p.rapidapi.com'
	}
};

  let response = await fetch(url,options);
  let data = await response.json();
  let rate = (data.info.rate).toFixed(2);

  let finalAmount = amtVal * rate;
  msg.innerText = `${amtVal} ${fromCurr.value} = ${finalAmount} ${toCurr.value}`;
};

const updateFlag = (element) => {
  let currCode = element.value;
  let countryCode = countryList[currCode];
  let newSrc = `https://flagsapi.com/${countryCode}/flat/64.png`;
  let img = element.parentElement.querySelector("img");
  img.src = newSrc;
};

btns.addEventListener("click", (evt) => {
  evt.preventDefault();
  updateExchangeRate();
});

window.addEventListener("load", () => {
  updateExchangeRate();
});
    
     let storedData = localStorage.getItem("final_selected_places");
    let idx=localStorage.getItem('idx:')
    let parent=document.getElementsByClassName("content")[0]
    console.log(idx)
    function initMap() {
      
      const defaultLoc = { lat: 17.3850, lng: 78.4867 };
      map = new google.maps.Map(document.getElementById("map"), {
        center: defaultLoc,
        zoom: 15
      });
    }

    function clearMarkers() {
      if (window.markers) {
        window.markers.forEach(m => m.setMap(null));
      }
      window.markers = [];
    }

    function searchNearby(type) {
       let places = JSON.parse(storedData);
      const lat = parseFloat(parseFloat(places[idx].latitude));
      const lng = parseFloat(parseFloat(places[idx].longitude));
      const location = { lat, lng };

      map.setCenter(location);
      clearMarkers();

      const request = {
        location: location,
        radius: 2000,
        type: type
      };

      service = new google.maps.places.PlacesService(map);
      service.nearbySearch(request, (results, status) => {
        if (status === google.maps.places.PlacesServiceStatus.OK) {
          results.forEach(place => {
            if (place.geometry && place.geometry.location) {
              const marker = new google.maps.Marker({
                map: map,
                position: place.geometry.location,
                title: place.name
              });
              window.markers.push(marker);
            }
          });
        }
      });
    }
    function create_content(){
      if (storedData) {
    let places = JSON.parse(storedData);
    let div=document.createElement("div")
    let htm=` <div class="heading">
        </div>
        <div class="about">
          <div class="image">
            <img src="${places[0].image}" class="planner-item-image" alt="${places[idx].name}">
          </div>
          <div> 
            <h3 class="planner-item-title" style="color: #fff; font-size: 1.5rem; background-color: #4A628A; padding: 10px 20px; border-radius: 10px;">${places[idx].name}</h3>
          </div>
          <div class="story" >
            <h1 style="color: #364c73; font-size: 20px; border:2px solid #4A628A;; border-radius: 10px; background-color:#7ab2d3; color:white;padding: 7px 30px;">Story</h1>
            <p style="font-size: 16px; color:navy;">${places[idx].description}</p>
          </div>
          <div class="local-food">
            <h1 style="color: #364c73; font-size: 20px; border:2px solid#4A628A;; border-radius: 10px; background-color:#7ab2d3; color:white;padding: 7px 30px;">Local Food</h1>
            <p style="font-size: 16px; color:navy;">${places[idx].famousFood}</p>
          </div>
          <div class="rating">
            <h1 style="color: #364c73; font-size: 20px; border:2px solid #4A628A;; border-radius: 10px; background-color:#7ab2d3; color:white;padding: 7px 30px;">Rating</h1>
            <p style="font-size: 16px; color:navy;">${places[idx].rating}</p>
          </div>
        </div>`
    div.className="about-tourist"
    div.innerHTML=htm
    parent.appendChild(div)
      }
    }

    window.onload = () => {
      create_content()
      initMap();
      window.markers = [];
    };
    function dele(){
            console.log("jdfbkjb")
            document.getElementsByClassName("translator-container").style="diplay:none;"
        }
        function pop_up(){
            console.log("jhjjhnjn")
            document.getElementsByClassName("translator-container").style="diplay:block;"
        }
        function pop_upp(){
            document.getElementsByClassName("translator-container").style="diplay:flex;"
        }
        const currency_btn=document.getElementsByClassName("two")[0]
        const trans_btn=document.getElementsByClassName("one")[0]
        currency_btn.addEventListener("click",()=>{
    document.getElementsByClassName("container")[0].style="display:block;"
})
document.getElementById("currClose").addEventListener("click",()=>{
    document.getElementsByClassName("container")[0].style="display:none;"
})
trans_btn.addEventListener("click",()=>{
    document.getElementsByClassName("translator-container")[0].style="display:block;"
})
document.getElementById("trans").addEventListener("click",()=>{
    document.getElementsByClassName("translator-container")[0].style="display:none;"
})
const inputText = document.getElementById("input");
  const outputText = document.getElementById("output");
  const translateBtn = document.querySelector(".translate-btn");
  const speakin = document.getElementById("speakin");
  const speakout=document.getElementById("speakout");
  const clear=document.getElementById("clear");

  const languageList = [
  { name: "Afrikaans", code: "af" },
  { name: "Albanian", code: "sq" },
  { name: "Arabic", code: "ar" },
  { name: "Armenian", code: "hy" },
  { name: "Bengali", code: "bn" },
  { name: "Bulgarian", code: "bg" },
  { name: "Catalan", code: "ca" },
  { name: "Chinese (Simplified)", code: "zh" },
  { name: "Chinese (Traditional)", code: "zh-TW" },
  { name: "Croatian", code: "hr" },
  { name: "Czech", code: "cs" },
  { name: "Danish", code: "da" },
  { name: "Dutch", code: "nl" },
  { name: "English", code: "en" },
  { name: "Estonian", code: "et" },
  { name: "Filipino", code: "tl" },
  { name: "Finnish", code: "fi" },
  { name: "French", code: "fr" },
  { name: "Georgian", code: "ka" },
  { name: "German", code: "de" },
  { name: "Greek", code: "el" },
  { name: "Gujarati", code: "gu" },
  { name: "Hebrew", code: "he" },
  { name: "Hindi", code: "hi" },
  { name: "Hungarian", code: "hu" },
  { name: "Icelandic", code: "is" },
  { name: "Indonesian", code: "id" },
  { name: "Italian", code: "it" },
  { name: "Japanese", code: "ja" },
  { name: "Kannada", code: "kn" },
  { name: "Korean", code: "ko" },
  { name: "Latvian", code: "lv" },
  { name: "Lithuanian", code: "lt" },
  { name: "Malay", code: "ms" },
  { name: "Malayalam", code: "ml" },
  { name: "Marathi", code: "mr" },
  { name: "Nepali", code: "ne" },
  { name: "Norwegian", code: "no" },
  { name: "Persian", code: "fa" },
  { name: "Polish", code: "pl" },
  { name: "Portuguese", code: "pt" },
  { name: "Punjabi", code: "pa" },
  { name: "Romanian", code: "ro" },
  { name: "Russian", code: "ru" },
  { name: "Serbian", code: "sr" },
  { name: "Slovak", code: "sk" },
  { name: "Slovenian", code: "sl" },
  { name: "Spanish", code: "es" },
  { name: "Swahili", code: "sw" },
  { name: "Swedish", code: "sv" },
  { name: "Tamil", code: "ta" },
  { name: "Telugu", code: "te" },
  { name: "Thai", code: "th" },
  { name: "Turkish", code: "tr" },
  { name: "Ukrainian", code: "uk" },
  { name: "Urdu", code: "ur" },
  { name: "Vietnamese", code: "vi" },
  { name: "Welsh", code: "cy" }
];

const fromDropdown = document.getElementById("fromLang");
  const toDropdown = document.getElementById("toLang");

  languageList.forEach(lang => {
    const option1 = document.createElement("option");
    option1.value = lang.code;
    option1.textContent = lang.name;
    fromDropdown.appendChild(option1);

    const option2 = document.createElement("option");
    option2.value = lang.code;
    option2.textContent = lang.name;
    toDropdown.appendChild(option2);

  });
  fromDropdown.value = "en"
  toDropdown.value = "hi"


  // Swap Languages
document.querySelector(".swap-btn").addEventListener("click", () => {
  const temp = fromDropdown.value;
  fromDropdown.value = toDropdown.value;
  toDropdown.value = temp;

  
  const tempText = inputText.value;
  inputText.value = outputText.value;
  outputText.value = tempText;
});


clear.addEventListener("click",()=>{
    inputText.value=""
    outputText.value=""
     fromDropdown.value = "en"
  toDropdown.value = "hi"
})


 copyOutput.addEventListener("click", () => {
            if (outputText.value) {
                // Use document.execCommand('copy') as navigator.clipboard.writeText() may not work due to iFrame restrictions.
                const textarea = document.createElement('textarea');
                textarea.value = outputText.value;
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    document.execCommand('copy');
                    
                } catch (err) {
                    console.error('Failed to copy text: ', err);
                    alert("Failed to copy text. Please try again manually.");
                }
                document.body.removeChild(textarea);
            }
        });



speakin.addEventListener("click", () => {
  if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    const recognition = new SpeechRecognition();

    recognition.lang = fromDropdown.value || 'en';  

    recognition.onstart = () => {
      inputText.value = "Listening...";
    };

    recognition.onresult = (event) => {
      const transcript = event.results[0][0].transcript;
      inputText.value = transcript;
    };

    recognition.onerror = (event) => {
      inputText.value = 'Error occurred: ' + event.error;
    };

    recognition.start();
  } else {
    alert("Speech recognition not supported in your browser.");
  }
});


 let voices = [];

function populateVoiceList() {
  voices = speechSynthesis.getVoices();
}

populateVoiceList();

// If voices aren't loaded initially, wait for them
if (speechSynthesis.onvoiceschanged !== undefined) {
  speechSynthesis.onvoiceschanged = populateVoiceList;
}

speakout.addEventListener("click", async() => {
  const response = await fetch("https://texttospeech.googleapis.com/v1/text:synthesize?key=AIzaSyAeQf0d8eeHT-8urtIHRQH4c8hVktUe52E", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({
      input: { text: outputText.value },
      voice: {
        languageCode: `${toLang.value}`,
        name: "hi-IN-Standard-A"
      },
      audioConfig: {
        audioEncoding: "MP3"
      }
    })
  });

  const data = await response.json();
  const audioContent = data.audioContent;

  // Create audio element and play
  const audio = new Audio("data:audio/mp3;base64," + audioContent);
  audio.play();
});




  // Translate Function
  translateBtn.addEventListener("click", async () => {
    const fromLang = fromDropdown.value.toLowerCase();
    const toLang = toDropdown.value.toLowerCase();
    const query = inputText.value;

    const url = `https://free-google-translator.p.rapidapi.com/external-api/free-google-translator?from=${fromLang}&to=${toLang}&query=${encodeURIComponent(query)}`;

    const options = {
      method: 'POST',
      headers: {
        'x-rapidapi-key': 'e877beadc9msh297fea542b4d09fp10cc8ajsn376528f78c77',
        'x-rapidapi-host': 'free-google-translator.p.rapidapi.com',
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ translate: 'rapidapi' })
    };

    try {
      outputText.value = "Translating...";
      const response = await fetch(url, options);
      const result = await response.json();
      outputText.value = result.translation;
      speaks = result.translation;
    } catch (error) {
      outputText.value = "Translation failed.";
      console.error(error);
    }
  });
  </script>
</body>
</html>
